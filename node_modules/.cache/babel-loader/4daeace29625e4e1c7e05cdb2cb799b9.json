{"ast":null,"code":"var _jsxFileName = \"C:\\\\React JS\\\\csttshop\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport * as S from './Styled.js';\nimport './Style.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast, ToastContainer } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport Header from '../Header/Header.js';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUsername } from '../../store.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [userId, setUserId] = useState(\"\");\n  const [userPw, setUserPw] = useState(\"\");\n  const [onLogin, setonLogin] = useState(false);\n  const navigate = useNavigate();\n  const [username1, setUsername1] = useState(\"\");\n  let loginAlert = document.querySelector(\"#lgnalert\");\n  let store = useSelector(state => {\n    return state;\n  }); // Redux store.js에 있던 모든 state가 남음\n\n  let dispatch = useDispatch();\n  localStorage.setItem('login', 'false');\n\n  const IdError = () => toast.warning(\"아이디를 6글자 이상 입력하세요\", {\n    position: \"top-right\",\n    autoClose: 1500\n  });\n\n  const NoId = () => toast.error(\"아이디를 입력하세요\", {\n    position: \"top-right\",\n    autoClose: 1500\n  });\n\n  const PwError = () => toast.warning(\"비밀번호를 6글자 이상 입력하세요\", {\n    position: \"top-right\",\n    autoClose: 1500\n  });\n\n  const NoPw = () => toast.error(\"비밀번호를 입력하세요\", {\n    position: \"top-right\",\n    autoClose: 1500\n  });\n\n  const lgnCheck = e => {\n    e.preventDefault();\n    loginAlert.style.visibility = \"hidden\";\n\n    if (userId === \"\") {\n      NoId();\n      return false;\n    } else if (userId.length < 6) {\n      IdError();\n      document.getElementById(\"lgnid\").focus();\n      return false;\n    }\n\n    if (userPw === \"\") {\n      NoPw();\n      document.getElementById(\"lgnpw\").focus();\n      return false;\n    } else if (userPw.length < 6) {\n      PwError();\n      return false;\n    }\n\n    axios.get('http://localhost:3001/users').then(user => {\n      user.data.map(function (a, i) {\n        if (user.data[i].Id == userId && user.data[i].Pw == userPw) {\n          loginAlert.style.display = \"none\";\n          alert(user.data[i].Name + \"님 로그인\");\n          localStorage.setItem('login', 'true');\n          localStorage.setItem('username', user.data[i].Name);\n          navigate(-1);\n        } else if (user.data[i].Id != userId || user.data[i].Pw != userPw) {\n          loginAlert.style.visibility = \"visible\";\n        }\n      });\n    }).catch(() => {\n      console.log(\"something wrong\");\n    });\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(S.Container, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(S.Lgscreen, {\n        children: [/*#__PURE__*/_jsxDEV(S.Loginmsg, {\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(S.Loginbox, {\n          children: [/*#__PURE__*/_jsxDEV(S.LoginboxIB, {\n            children: [/*#__PURE__*/_jsxDEV(S.Lgndv1, {\n              children: [/*#__PURE__*/_jsxDEV(S.Lglabel, {\n                children: /*#__PURE__*/_jsxDEV(S.Loginspan, {\n                  children: \"\\uC544\\uC774\\uB514\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(S.Logininput, {\n                id: \"lgnid\",\n                type: \"text\",\n                name: \"myid\",\n                placeholder: \"\\uC544\\uC774\\uB514 \\uC785\\uB825\",\n                onChange: e => {\n                  setUserId(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(S.Lgndv2, {\n              children: [/*#__PURE__*/_jsxDEV(S.Lglabel, {\n                children: /*#__PURE__*/_jsxDEV(S.Bbspan, {\n                  children: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(S.Bbinput, {\n                id: \"lgnpw\",\n                type: \"password\",\n                name: \"mypw\",\n                placeholder: \"\\uBE44\\uBC88 \\uC785\\uB825\",\n                onChange: e => {\n                  setUserPw(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(S.Lgnbtn, {\n            type: \"submit\",\n            value: \"\\uB85C\\uADF8\\uC778\",\n            onClick: lgnCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(S.LgnAlert, {\n        id: \"lgnalert\",\n        children: \"\\uC544\\uC774\\uB514 \\uB610\\uB294 \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n} // localStorage.setItem('age', '20');    // 데이터 생성\n// localStorage.getItem('age');     // 데이터 불러오기\n// localStorage.removeItem('age');      // 데이터 삭제\n\n\n_s(Login, \"0t1F2Tu7Z7YYSGsSdNqt6ULmOd0=\", false, function () {\n  return [useNavigate, useSelector, useDispatch];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","S","Link","useNavigate","axios","toast","ToastContainer","Header","useDispatch","useSelector","setUsername","Login","userId","setUserId","userPw","setUserPw","onLogin","setonLogin","navigate","username1","setUsername1","loginAlert","document","querySelector","store","state","dispatch","localStorage","setItem","IdError","warning","position","autoClose","NoId","error","PwError","NoPw","lgnCheck","e","preventDefault","style","visibility","length","getElementById","focus","get","then","user","data","map","a","i","Id","Pw","display","alert","Name","catch","console","log","target","value"],"sources":["C:/React JS/csttshop/src/components/Login/Login.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport * as S from './Styled.js';\r\nimport './Style.css';\r\nimport {Link, useNavigate} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Header from '../Header/Header.js';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setUsername } from '../../store.js';\r\n\r\nfunction Login() {\r\n    const [userId, setUserId] = useState(\"\");\r\n    const [userPw, setUserPw] = useState(\"\");\r\n    const [onLogin, setonLogin]= useState(false);\r\n    const navigate = useNavigate();\r\n    const [username1, setUsername1] = useState(\"\");\r\n\r\n    let loginAlert = document.querySelector(\"#lgnalert\");\r\n\r\n    let store = useSelector((state) => {return state});   // Redux store.js에 있던 모든 state가 남음\r\n    let dispatch = useDispatch();\r\n\r\n    localStorage.setItem('login', 'false');\r\n\r\n    const IdError = () => toast.warning(\"아이디를 6글자 이상 입력하세요\", {\r\n        position: \"top-right\",\r\n        autoClose: 1500\r\n    });\r\n    const NoId = () => toast.error(\"아이디를 입력하세요\", {\r\n        position: \"top-right\",\r\n        autoClose: 1500\r\n    });\r\n    const PwError = () => toast.warning(\"비밀번호를 6글자 이상 입력하세요\", {\r\n        position: \"top-right\",\r\n        autoClose: 1500\r\n    })\r\n    const NoPw = () => toast.error(\"비밀번호를 입력하세요\", {\r\n        position: \"top-right\",\r\n        autoClose: 1500\r\n    })\r\n\r\n\r\n    const lgnCheck = (e) => {\r\n        e.preventDefault();\r\n        loginAlert.style.visibility = \"hidden\";\r\n    \r\n        if(userId === \"\") {\r\n            NoId();\r\n            return false;\r\n        }\r\n        else if(userId.length < 6) {\r\n            IdError();\r\n            document.getElementById(\"lgnid\").focus();\r\n            return false;\r\n        }\r\n    \r\n        if(userPw === \"\") {\r\n            NoPw();\r\n            document.getElementById(\"lgnpw\").focus();\r\n            return false;\r\n        }\r\n        else if(userPw.length < 6) {\r\n            PwError();\r\n            return false;\r\n        }\r\n\r\n\r\n        axios.get('http://localhost:3001/users')\r\n        .then((user) => {\r\n            user.data.map(function(a, i) {\r\n                if(user.data[i].Id == userId && user.data[i].Pw == userPw) {\r\n                    loginAlert.style.display = \"none\";\r\n                    alert(user.data[i].Name + \"님 로그인\");\r\n                    localStorage.setItem('login', 'true');\r\n                    localStorage.setItem('username', user.data[i].Name);\r\n                    navigate(-1);\r\n                } else if(user.data[i].Id != userId || user.data[i].Pw != userPw) {\r\n                    loginAlert.style.visibility = \"visible\";\r\n                }\r\n            })\r\n        })\r\n        .catch(() => {\r\n            console.log(\"something wrong\");\r\n        })\r\n\r\n        \r\n        return true;\r\n    }\r\n    \r\n    \r\n\r\n\r\n    return (\r\n        <>\r\n            <S.Container>\r\n                <Header />\r\n\r\n            \r\n                <S.Lgscreen>\r\n                    <S.Loginmsg>로그인</S.Loginmsg>\r\n                    <S.Loginbox>\r\n                        <S.LoginboxIB>\r\n                            <S.Lgndv1>\r\n                                <S.Lglabel>\r\n                                    <S.Loginspan>아이디</S.Loginspan>\r\n                                </S.Lglabel>\r\n                                <S.Logininput\r\n                                    id='lgnid'\r\n                                    type='text'\r\n                                    name='myid'\r\n                                    placeholder='아이디 입력'\r\n                                    onChange={(e) => {setUserId(e.target.value)}} />\r\n                            </S.Lgndv1>\r\n                            <S.Lgndv2>\r\n                                <S.Lglabel>\r\n                                <S.Bbspan>비밀번호</S.Bbspan>\r\n                                </S.Lglabel>\r\n                                <S.Bbinput\r\n                                    id='lgnpw'\r\n                                    type='password'\r\n                                    name='mypw'\r\n                                    placeholder='비번 입력'\r\n                                    onChange={(e) => {setUserPw(e.target.value)}} />\r\n                            </S.Lgndv2>\r\n                        </S.LoginboxIB>\r\n                        <S.Lgnbtn type='submit' value='로그인' onClick={lgnCheck}></S.Lgnbtn>\r\n                        <ToastContainer />\r\n                    </S.Loginbox>\r\n                </S.Lgscreen>\r\n                <S.LgnAlert id='lgnalert'>아이디 또는 비밀번호가 일치하지 않습니다</S.LgnAlert>\r\n            </S.Container>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n// localStorage.setItem('age', '20');    // 데이터 생성\r\n// localStorage.getItem('age');     // 데이터 불러오기\r\n// localStorage.removeItem('age');      // 데이터 삭제\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}